(self.AMP=self.AMP||[]).push({n:"amp-position-observer",v:"1903262220080",f:(function(AMP,_){
    var h="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},m;if("function"==typeof Object.setPrototypeOf)m=Object.setPrototypeOf;else{var n;a:{var p={a:!0},q={};try{q.__proto__=p;n=q.a;break a}catch(a){}n=!1}m=n?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var r=m;self.log=self.log||{user:null,dev:null,userForEmbed:null};var t=self.log;function u(){if(!t.user)throw Error("failed to call initLogConstructor");return t.user}function v(a,b,d){return u().assert(a,b,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};function w(a){var b,d=a.ownerDocument.defaultView,c=d!=(d.__AMP_TOP||d);if(c){if(x(d,"action")){var e=y(d,"action");if(e)return e}if(!b)return null}a=z(a);a=A(a);return x(a,"action")?y(a,"action"):null}function B(a){var b=C,d=z(a),c=A(d),e=c,g=D(e),f=g["position-observer"];f||(f=g["position-observer"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});f.ctor||f.obj||(f.ctor=b,f.context=d,f.resolve&&y(e,"position-observer"))}function E(a,b){a=a.__AMP_TOP||a;return y(a,b)}
    function F(a,b){var d=z(a);d=A(d);return y(d,b)}function z(a){return a.nodeType?E((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function A(a){a=z(a);return a.isSingleDoc()?a.win:a}function y(a,b){x(a,b);var d=D(a);a=d[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function D(a){var b=a.services;b||(b=a.services={});return b}function x(a,b){a=a.services&&a.services[b];return!(!a||!a.ctor&&!a.obj)};/*
     https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
    function G(a){return a||{}};function H(a,b,d,c){return{left:a,top:b,width:d,height:c,bottom:b+c,right:a+d,x:a,y:b}}function I(a,b){return a.top<b.top?"top":a.bottom>b.bottom?"bottom":"inside"}function J(a,b){return a&&b?a.left==b.left&&a.top==b.top&&a.width==b.width&&a.height==b.height:!1};function K(a,b,d,c){this.element=b;this.O=c;this.fidelity=d;this.turn=0==d?Math.floor(4*Math.random()):0;this.A=null;this.h=F(a,"viewport")}
    K.prototype.update=function(a){var b=this;if(!a){if(0!=this.turn){this.turn--;return}0==this.fidelity&&(this.turn=4)}var d=this.h.getSize(),c=H(0,0,d.width,d.height);this.h.getClientRectAsync(this.element).then(function(a){var d={positionRect:a,viewportRect:c,relativePos:""},e=b.A;if(!(e&&J(e.positionRect,d.positionRect)&&J(e.viewportRect,d.viewportRect))){e=d.positionRect;d.relativePos=I(e,d.viewportRect);var k=d.viewportRect;e.top<=k.bottom&&k.top<=e.bottom&&e.left<=k.right&&k.left<=e.right?(b.A=
    d,b.O(d)):b.A&&(b.A=null,d.positionRect=null,b.O(d))}})};function L(a){v(/^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax|cm|mm|q|in|pc|pt)$/.test(a),"Invalid length value: %s",a);return a};function M(a,b,d){var c={detail:d};Object.assign(c,void 0);if("function"==typeof a.CustomEvent)return new a.CustomEvent(b,c);a=a.document.createEvent("CustomEvent");a.initCustomEvent(b,!!c.bubbles,!!c.cancelable,d);return a};function N(a,b){function d(){c=0;var f=500-(a.Date.now()-e);if(0<f)c=a.setTimeout(d,f);else{var k=g;g=null;b.apply(null,k)}}var c=0,e=0,g=null;return function(b){for(var f=[],l=0;l<arguments.length;++l)f[l-0]=arguments[l];e=a.Date.now();g=f;c||(c=a.setTimeout(d,500))}};function C(a){var b=this;this.U=a;this.T=a.win;this.c=[];this.Y=E(this.T,"vsync");this.h=F(a,"viewport");this.G=[];this.J=this.L=this.K=!1;this.V=N(this.T,function(){b.K=!1})}C.prototype.observe=function(a,b,d){var c=this,e=new K(this.U,a,b,d);this.c.push(e);this.J||O(this);e.update();return function(){for(var a=0;a<c.c.length;a++)if(c.c[a]==e){c.c.splice(a,1);0==c.c.length&&P(c);break}}};
    C.prototype.unobserve=function(a){for(var b=0;b<this.c.length;b++)if(this.c[b].element==a){this.c.splice(b,1);0==this.c.length&&P(this);return}if(t.dev)a=t.dev;else throw Error("failed to call initLogConstructor");a.error("POSITION_OBSERVER","cannot unobserve unobserved element")};function O(a){a.J=!0;a.G.push(a.h.onScroll(function(){a.V();a.K=!0;a.L||Q(a)}));a.G.push(a.h.onResize(function(){a.updateAllEntries(!0)}))}function P(a){for(a.J=!1;a.G.length;)a.G.pop()()}
    C.prototype.updateAllEntries=function(a){for(var b=0;b<this.c.length;b++)this.c[b].update(a)};function Q(a){a.updateAllEntries();a.L=!0;a.K?a.Y.measure(function(){Q(a)}):a.L=!1};function R(a){a=AMP.BaseElement.call(this,a)||this;a.o=null;a.l=null;a.h=null;a.j=!1;a.F=0;a.m=0;a.M="0";a.I="0";a.B=0;a.R=0;a.H=null;a.D=null;a.w=null;a.C=0;a.P=0;a.S=!1;a.N=!1;return a}var S=AMP.BaseElement;R.prototype=h(S.prototype);R.prototype.constructor=R;if(r)r(R,S);else for(var T in S)if("prototype"!=T)if(Object.defineProperties){var U=Object.getOwnPropertyDescriptor(S,T);U&&Object.defineProperty(R,T,U)}else R[T]=S[T];R.$=S.prototype;
    R.prototype.buildCallback=function(){var a=F(this.getAmpDoc(),"viewer");a.whenFirstVisible().then(this.W.bind(this));this.S=this.element.hasAttribute("once")};R.prototype.W=function(){var a=this;V(this);this.o=w(this.element);this.h=F(this.element,"viewport");this.l||(B(this.getAmpDoc()),this.l=F(this.getAmpDoc(),"position-observer"));this.getAmpDoc().whenReady().then(function(){var b=W(a);a.l.observe(b,1,a.X.bind(a))})};
    function X(a){var b=a.h.getScrollTop(),d=G({"start-scroll-offset":b,"end-scroll-offset":b+a.P,"initial-inview-percent":a.C}),c=M(a.win,"amp-position-observer.scroll",G({percent:a.C,positionObserverData:d}));a.o.trigger(a.element,"scroll",c,1)}
    R.prototype.X=function(a){if(!this.S||!this.N){var b=this.j,d=this.H&&this.H.height,c=a;this.w||(this.w=c.viewportRect.height);var e=this.w-c.viewportRect.height,g=0;150>Math.abs(e)?g=e:this.w=null;c.viewportRect=H(c.viewportRect.left,c.viewportRect.top,c.viewportRect.width,c.viewportRect.height+g);this.H=a.viewportRect;d!=a.viewportRect.height&&(this.B=Y(this,this.M),this.R=Y(this,this.I));c=a.viewportRect;var f=c=H(c.left,c.top+this.B,c.width,c.height-this.R-this.B);c=a.positionRect;if(c){var k=
    I(c,f);e=f;g=k;if("inside"==g)this.j=!0;else{var l=c.height*("top"==g?this.F:this.m);this.j="bottom"==g?c.top<=e.bottom-l:c.bottom>=e.top+l}}else this.j=!1,k=a.relativePos;b&&!this.j&&(this.C="bottom"==k?0:1,X(this),e=M(this.win,"amp-position-observer.exit",G({})),this.o.trigger(this.element,"exit",e,1),this.N=!0);!b&&this.j&&(e=M(this.win,"amp-position-observer.enter",G({})),this.o.trigger(this.element,"enter",e,1));this.j&&(g=f,c&&(e=g.height+c.height-(c.height*this.m+c.height*this.F),c=Math.abs(c.top-
    this.B-(g.height-c.height*this.m)),this.C=c/e,this.P=e-c),X(this))}};function V(a){var b=a.element.getAttribute("intersection-ratios");if(b){var d=b.trim().split(" ");a.F=Z(d[0]);a.m=a.F;d[1]&&(a.m=Z(d[1]))}var c=a.element.getAttribute("viewport-margins");c&&(c=c.trim().split(" "),a.M=c[0],a.I=a.M,c[1]&&(a.I=c[1]));a.D=a.element.getAttribute("target")}
    function W(a){var b=a.D?u().assertElement(a.getAmpDoc().getElementById(a.D),"No element found with id:"+a.D):a.element.parentNode;a.getAmpDoc().getBody()==b&&(b=a.win.document.documentElement);return b}
    function Y(a,b){b="number"==typeof b?b+"px":b&&/^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax|cm|mm|q|in|pc|pt)?$/.test(b)?/^\d+(\.\d+)?$/.test(b)?b+"px":b:void 0;b=L(b);var d=b;L(d);d=v(d.match(/[a-z]+/i),"Failed to read units from %s",d)[0];var c=parseFloat(b);c="number"===typeof c&&isFinite(c)?c:void 0;if(!c)return 0;v("px"==d||"vh"==d,"Only pixel or vh are valid as units for exclusion margins: "+b);"vh"==d&&(c=c/100*a.H.height);return c}
    function Z(a){var b=parseFloat(a);v(0<=b&&1>=b,"Ratios must be a decimal between 0 and 1: "+a);return b}R.prototype.Z=function(){if(this.l){var a=W(this);this.l.unobserve(a);this.l=null}};(function(a){a.registerElement("amp-position-observer",R)})(self.AMP);
    })});
    //# sourceMappingURL=amp-position-observer-0.1.js.map
    