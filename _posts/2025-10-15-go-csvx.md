---
layout: post
title: "[GO] ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô CSVX ‡πÅ‡∏õ‡∏•‡∏á struct ‡πÄ‡∏õ‡πá‡∏ô CSV"
short_description: "‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏•‡∏ö‡∏£‡∏≤‡∏£‡∏µ CSVX ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• struct ‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå CSV ‡πÅ‡∏•‡∏∞‡πÅ‡∏õ‡∏•‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏à‡∏≤‡∏Å CSV ‡πÄ‡∏õ‡πá‡∏ô struct ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏†‡∏≤‡∏©‡∏≤ Go."
date: 2025-10-15 10:00:00 +0700
categories: [golang]
tags: [golang]
cover_image: /assets/images/golang/14.png
author: "Dev‡πÑ‡∏õ‡∏ß‡∏±‡∏ô‡πÜ"
---

### CSVX ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£


CSVX ‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏•‡∏ö‡∏£‡∏≤‡∏£‡∏µ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ **‡πÅ‡∏õ‡∏•‡∏á slice ‡∏Ç‡∏≠‡∏á struct ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô CSV ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢‡∏î‡∏≤‡∏¢** ‡πÅ‡∏•‡∏∞‡∏¢‡∏±‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ **‡πÅ‡∏õ‡∏•‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏à‡∏≤‡∏Å CSV ‡πÄ‡∏õ‡πá‡∏ô struct ‡πÑ‡∏î‡πâ** ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ tag ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô struct ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå ‡∏•‡∏≥‡∏î‡∏±‡∏ö ‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤ default ‡πÑ‡∏î‡πâ

‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á

{% highlight shell %}
go get github.com/prongbang/csvx
{% endhighlight %}

---

### üîç ‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡∏´‡∏•‡∏±‡∏Å

* ‡πÉ‡∏ä‡πâ `TryConvert[T]` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏á slice ‡∏Ç‡∏≠‡∏á `T` ‡πÄ‡∏õ‡πá‡∏ô CSV (string)
* ‡πÉ‡∏ä‡πâ `Parser[T]` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏á `[][]string` (CSV ‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡∏°‡∏≤) ‡πÄ‡∏õ‡πá‡∏ô slice ‡∏Ç‡∏≠‡∏á `T`
* ‡πÉ‡∏ä‡πâ tag ‡πÉ‡∏ô struct ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå (`header`), ‡∏•‡∏≥‡∏î‡∏±‡∏ö (`no`), ‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤ default (`default`)

---

### üß© ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

#### 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á struct ‡∏û‡∏£‡πâ‡∏≠‡∏° tag

{% highlight go %}
type Person struct {
  ID      int     `header:"ID" no:"1"`
  Name    string  `header:"Name" no:"2"`
  Email   *string `header:"Email" no:"3" default:"no-email"`
  Age     *int    `header:"Age" no:"4" default:"0"`
}
{% endhighlight %}

* `header`: ‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå CSV
* `no`: ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡πÉ‡∏ô CSV
* `default`: ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÅ‡∏ó‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ü‡∏¥‡∏•‡∏î‡πå‡πÄ‡∏õ‡πá‡∏ô `nil`

---

#### 2. ‡πÅ‡∏õ‡∏•‡∏á struct ‚Üí CSV

{% highlight go %}
people := []Person{
  {ID: 1, Name: "Alice"},
  {ID: 2, Name: "Bob"},
}

csvText := csvx.TryConvert[Person](people)
fmt.Println(csvText)
{% endhighlight %}

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ:**

{% highlight text %}
"ID","Name","Email","Age"
"1","Alice","no-email","0"
"2","Bob","no-email","0"
{% endhighlight %}

---

#### 3. ‡πÅ‡∏õ‡∏•‡∏á CSV ‚Üí struct

{% highlight go %}
rows := [][]string{
	{"\ufeffID", "Name Space", "Age"},
	{"1", "Name1", "N/A"},
	{"2", "Name2", ""},
	{"3", "Name3", "3.14"},
	{"4", "Name4", "3.14"},
}

parsed := csvx.Parser[Person](rows)
{% endhighlight %}

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ:**

{% highlight text %}
[
  {"ID":1,"Name":"Name1","Age":null},
  {"ID":2,"Name":"Name2","Age":null},
  {"ID":3,"Name":"Name3","Age":3.14},
  {"ID":4,"Name":"Name4","Age":3.14}
]
{% endhighlight %}

---

### ‚úÖ ‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á CSVX

* ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏°‡∏≤‡∏Å ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ header ‡∏´‡∏£‡∏∑‡∏≠ column ‡πÄ‡∏≠‡∏á
* ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö tag ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠ ‡∏•‡∏≥‡∏î‡∏±‡∏ö ‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤ default
* ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô export / import CSV ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ mapping ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö struct
* ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ

---

‡∏´‡∏ß‡∏±‡∏á‡∏ß‡πà‡∏≤‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô **CSVX** ‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà [github.com/prongbang/csvx](https://github.com/prongbang/csvx) ‡∏Ñ‡∏£‡∏±‡∏ö üöÄ
